<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear Registro</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const areaSelect = document.getElementById("area");
            const subgrupoSelect = document.getElementById("subgrupo");

            const jerarquia = {
                "Despacho": ["1.01 Despacho", "1.02 Desarrollo Estrategico y Mejora", "1.03 Jurídica"],
                "Desarrollo Administrativo y Financiero": ["2.01 Coordinación Administrativa", "2.02 PIGA"],
                "Gestión Policiva y Jurídica": ["3.1 Coordinación Policiva", "3.2 Actuaciones Administrativas"],
                "Inspecciones de Policía": ["4.1 Coordinación", "4.2 Inspección - 8A", "4.2 Inspección - 8B"]
            };

            areaSelect.addEventListener("change", function () {
                const area = areaSelect.value;
                const subgrupos = jerarquia[area] || [];

                subgrupoSelect.innerHTML = "<option value=''>Seleccione un Subgrupo</option>";
                subgrupos.forEach(subgrupo => {
                    const option = document.createElement("option");
                    option.value = subgrupo;
                    option.textContent = subgrupo;
                    subgrupoSelect.appendChild(option);
                });
            });
        });
    </script>
</head>
<body>
    <header>
        <h1>Registro de Personal - Alcaldía Local de Kennedy</h1>
    </header>
    <div class="container">
        <h2>Crear Nuevo Registro</h2>
        <form action="/" method="post">
            <h3>Datos Personales</h3>
            <label>Apellido Paterno: <input type="text" name="APELLIDO PATERNO" required></label>
            <label>Apellido Materno: <input type="text" name="APELLIDO MATERNO" required></label>
            <label>Nombres: <input type="text" name="NOMBRE(S)" required></label>
            <label>Identificación: <input type="text" name="IDENTIFICACION" required></label>
            <label>Fecha de Entrevista: <input type="date" name="FECHA ENTREVISTA"></label>
            <label>Teléfono: <input type="text" name="TELEFONO"></label>

            <h3>Perfil Profesional</h3>
            <label>Perfil: <input type="text" name="PERFIL"></label>
            <label>HV (Enlace): <input type="url" name="HV"></label>

            <label>Área:</label>
            <select id="area" name="AREA" required>
                <option value="">Seleccione un Área</option>
                <option value="Despacho">Despacho</option>
                <option value="Desarrollo Administrativo y Financiero">Desarrollo Administrativo y Financiero</option>
                <option value="Gestión Policiva y Jurídica">Gestión Policiva y Jurídica</option>
                <option value="Inspecciones de Policía">Inspecciones de Policía</option>
            </select>

            <label>Subgrupo:</label>
            <select id="subgrupo" name="SUBGRUPO" required>
                <option value="">Seleccione un Subgrupo</option>
            </select>

            <label>Rol:</label>
            <select name="ROL" required>
                <option value="Auxiliar">Auxiliar</option>
                <option value="Notificador">Notificador</option>
                <option value="Primaria">Primaria</option>
                <option value="Profesional Especializado">Profesional Especializado</option>
                <option value="Profesional Universitario">Profesional Universitario</option>
                <option value="Técnico">Técnico</option>
                <option value="Transporte - Liviano">Transporte - Liviano</option>
                <option value="Transporte - Pesado">Transporte - Pesado</option>
            </select>

            <label>Riesgo: <input type="text" name="RIESGO"></label>
            <button type="submit">Guardar</button>
        </form>
        <a href="/read">Ver todos los registros</a>
    </div>
</body>
</html>
